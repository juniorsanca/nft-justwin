<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>DOODLE JUMP</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    
    <!--<META HTTP-EQUIV='Content-Security-Policy' CONTENT="default-src 'self';script-src 'self' 'unsafe-inline' *.disqus.com a.disquscdn.com requirejs.org www.google-analytics.com; style-src 'self' 'unsafe-inline' a.disquscdn.com; img-src 'self' *; media-src 'self' ; frame-src disqus.com;">
    -->
    <meta http-equiv="Content-Security-Policy" content="default-src * self blob: data: gap:; style-src * self 'unsafe-inline' blob: data: gap:; script-src * 'self' 'unsafe-eval' 'unsafe-inline' blob: data: gap:; object-src * 'self' blob: data: gap:; img-src * self 'unsafe-inline' blob: data: gap:; connect-src self * 'unsafe-inline' blob: data: gap:; frame-src * self blob: data: gap:;">

    <script src="https://cdn.tailwindcss.com"></script>

<style>

    body{
        background-image: url("./public/images/phone-bg.jpeg");
    }
    
</style>
</head>

<body class="px-1 py-2.5 text-center mr-0 mb-2">
      <div class="home">
    
    <div>
        <div class="px-1 py-2.5 text-center mr-0 mb-2">
        <div>
            <img alt="Vue logo" src="./public/images/justwin.gif">
        </div>
        <div>
            <img alt="Vue logo" src="./public/images/tv-nft.gif">
        </div><br>

        <div class="grid grid-cols-2 flex space-x-2">
              <button
                  type="button"
                  class="
                  font-sans text-center font-bold shadow-lg 
                  shadow-cyan-500/50 placeholder-white
                  bg-black bg-opacity-100 rounded-full 
                  border border-cyan-300 p-2 mb-6
                  text-white outline-none
                  "
                >
                <a href="public/" class="text-white">PLAY</a>
                </button>
              
              <button
                type="button"
                class="
                  font-sans text-center font-bold shadow-lg 
                  shadow-pink-500/50 placeholder-white
                  bg-black bg-opacity-100 rounded-full 
                  border border-pink-500 p-2 mb-6
                  text-white outline-none
                    "
              >
              <a href="/Ranking" class="text-white">RANKINGS</a>
              </button>
          </div>

          <div class="grid grid-cols-2 flex space-x-2">
              <button
                type="button"
                class="
                        font-sans text-center font-bold shadow-lg 
                        shadow-pink-500/50 placeholder-white
                        bg-black bg-opacity-100 rounded-full 
                        border border-pink-500 p-2 mb-6 
                        text-white outline-none
                        "
              >
              <a href="/htplay" class="text-white">  HOW TO PLAY</a>
            </button>

              <button
                type="submit"
                id="logOut"
                name="logout"
                class="
                  font-sans text-center font-bold shadow-lg 
                  shadow-pink-500/50 placeholder-white
                  bg-black bg-opacity-100 rounded-full border 
                  border-pink-500 p-2 mb-6 text-white
                  outline-none
                  " 
              >EXIT</button>          

        </div> 
    </div>
  </div>
  </div>


      <script type="module">
      // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
        import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js"
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-auth.js";

      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyDNY0drJfhyqxBiuONq-AMTjCR1pA0U810",
        authDomain: "justwin-2e222.firebaseapp.com",
        projectId: "justwin-2e222",
        storageBucket: "justwin-2e222.appspot.com",
        messagingSenderId: "319970877026",
        appId: "1:319970877026:web:cb144129664f9aec707b3b",
        measurementId: "G-4QSJ5VJBWF",
        databaseURL: "https://justwin-2e222-default-rtdb.europe-west1.firebasedatabase.app/"

      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app)
      const auth = getAuth();


    const user = auth.currentUser;

    onAuthStateChanged(auth, (user) => {
      if (user) {
        // User is signed in, see docs for a list of available properties
        // https://firebase.google.com/docs/reference/js/firebase.User
        const uid = user.uid;
        // ...
      } else {
        // User is signed out
        // ...
      }
    });


    logOut.addEventListener('click', (e) => {
     
      signOut(auth).then(() => {
        //faire une fonction pas de possibilité d'accéder au homeage sans se connecter !
         window.location = 'login.html'; 

          alert('user loged out!');

      }).catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;

          alert(errorMessage)
      })
    })

</script>
</body>
</html>